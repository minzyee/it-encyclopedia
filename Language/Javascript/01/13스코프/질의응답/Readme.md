# 기술면접 질문

## 10. 스코프

### 1. 자바스크립트는 어떤 스코프를 따르는지와 해당 스코프에 대한 개념을 설명해주세요.

<hr>

#### 대엽

- 자바스크립트는 함수 레벨과 블록 레벨의 렉시컬 스코프 규칙을 따름
- 자바스크립트상 `var`키워드로 선언된 변수나 `함수 선언식`으로 만들어진 함수는 `함수 레벨 스코프`를 가지므로 함수 내부 전체에서 유효한 식별자를 가짐
- ES6의 `let`,`const`키워드를 사용하면 블록 레벨 스코프 변수를 만들 수 있음

#### 민지

- 자바스크립트는 함수 레벨 스코프를 따르며 렉시컬 스코프로 작동합니다.
  스코프는 식별자가 자신이 선언이 된 위치에 의해 다른 코드가 식별자 자신을 참조할 수 있는 유효 범위를 말하며,
  렉시컬 스코프란 함수를 어디서 호출하는지가 아닌 어디에 선언했는지에 따라 상위 스코프를 결정하는 것을 말합니다.

#### 다은

- 대부분의 프로그래밍 언어에서는 함수 몸체만이 아니라 모든 코드 블록에서 지역 스코프를 만드는 블록 레벨 스코프를 따르지만, 자바스크립트에서는 함수 레벨 스코프를 따릅니다. 함수 레벨 스코프란 함수 코드 블록 내에서 선언된 변수는 함수 코드 블록 내에서만 유효하며 함수 외부에서는 유효하지 않은 상태로 참조가 불가능합니다. 하지만 ES6에서 추가된 let 키워드를 사용하면 블록 레벨 스코프를 사용할 수 있습니다.

#### 선아

- 자바스크립트는 렉시컬 스코프를 따릅니다. 렉시컬 스코프는 함수가 평가되는 시점에 상위 스코프가 정적으로 결정됩니다. 그렇기 때문에 호출한 위치는 스코프 결정에 영향을 주지 않고, 자신이 정의된 스코프가 함수의 상위 스코프가 됩니다.

#### 광렬

- 렉시컬 스코프를 따릅니다. 함수를 어디서 호출하는지가 아니라 어디에 선언하는지에 따라 결정되는 것을 렉시컬 스코프라고 합니다.

#### 풍윤

- 자바스크립트는 렉시컬 스코프를 따릅니다. 렉시컬 스코프란 함수를 어디서 정의했는지에 따라 상위 스코프를 결정합니다. 동적 스코프처럼 상위 스코프가 동적으로 변하지 않고 함수 정의가 평가되는 시점에 상위 스코프가 결정되기 때문에 정적 스코프라고 부릅니다.

<br>

### 2. 렉시컬 스코프는 무엇인가요?

<hr>

#### 대엽

- 함수를 어디에서 호출했는지가 아니라, 어디에서 선언했는지에 따라 결정되는 것
- 자바스크립트의 함수는 렉시컬 스코프의 규칙을 따르며, 호출 스택과 관계없이 각각의 대응표를 소스코드 기준으로 정의하고, 런타임에 그 대응표를 변경시키지 않음
- [참고자료](https://techwell.wooritech.com/docs/languages/javascript/scope-this/)

#### 민지

- 렉시컬 스코프란 함수를 어디서 호출하는지가 아닌 어디에 선언했는지에 따라 상위 스코프를 결정하는 것을 말합니다.

#### 다은

- 렉시컬 스코프는 정적 스코프라고도 불리며 함수를 어디에서 정의했는지에 따라 상위 스코프를 결정하는 것을 말합니다. 자바스크립트는 렉시컬 스코프를 따르기 때문에 함수가 호출된 위치는 상위 스코프 결정에 영향을 미치지 않습니다.

#### 선아

- 렉시컬 스코프는 자바스크립트가 따르는 스코프입니다. 함수가 호출되는 시점에 동적으로 상위 스코프가 결정되는 동적 스코프와 달리, 렉시컬 스코프는 함수가 평가되는 시점에 상위 스코프가 정적으로 결정됩니다. 그리고 함수의 상위 스코프는 자신이 정의된 스코프가 됩니다.

#### 광렬

- 함수를 어디서 호출하는지가 아니라 어디에 선언하는지에 따라 결정되는 것을 렉시컬 스코프라고 합니다.

#### 풍윤

- 렉시컬 스코프란 함수를 어디서 정의했는지에 따라 상위 스코프를 결정합니다. 동적 스코프처럼 상위 스코프가 동적으로 변하지 않고 함수 정의가 평가되는 시점에 상위 스코프가 결정되기 때문에 정적 스코프라고 부릅니다.

<br>

### 3. 스코프 체인과 변수 은닉화에 대해 설명해주세요.

<hr>

#### 대엽

- 스코프 체인은 실행 컨텍스트의 렉시컬 환경을 단방향으로 연결한 Linked List 이며 함수의 중첩에 의해 계층적 구조를 가짐.
- 변수 은닉화는 여러 스코프에서 동일한 식별자를 선언한 경우 스코프 체인상 가장 먼저 검색된 식별자에서만 접근이 가능한 것이며 직접적으로 변경되면 안되는 변수에 대한 접근을 막는다.

#### 민지

- 자바스크립트 엔진은 식별자를 찾을 때 일단 자신이 속한 스코프에서 찾고
  그 스코프에 식별자가 없으면 상위 스코프에서 다시 찾아나갑니다.
  이 현상을 스코프 체인 이라고 하며 스코프가 중첩되어있는 모든 상황에서 발생하며,
  직접적으로 변경되면 안 되는 변수에 대한 접근을 막는 것을 변수 은닉화라고 합니다.

#### 다은

- 스코프는 함수의 중첩에 의해 계층적 구조를 가집니다. 이 때 지역 스코프의 최상위 스코프는 전역 스코프이며 이러한 형태를 스코프 체인이라고 합니다. 자바스크립트 엔진은 변수를 참조할 때 스코프 체인을 통해 변수를 참조하는 스코프에서 시작하여 상위 스코프 방향으로 이동하면 변수를 검색합니다. 만약 여러 스코프에서 동일한 식별자를 선언한 경우, 스코프 체인 상에서 가장 먼저 검색된 식별자에만 접근 가능한 것을 변수 은닉화라고 하며, 직접적으로 변경되면 안되는 변수에 대한 접근을 막을 수 있으며 클로저를 생성하면 함수 내부적으로 접근하는 것이 가능합니다.

#### 선아

- 함수의 중첩에 의해서 스코프는 계층적 구조를 가지는데, 함수 몸체 가장 안 쪽의 지역 스코프부터 최상위 스코프인 전역 스코프까지 연결된 계층적 구조를 스코프 체인이라고 합니다. 이때 상위 스코프에서 선언한 변수를 하위 스코프에서 참조할 수 있지만 반대로 하위 스코프에서 선언한 변수를 상위 스코프에서 참조할 수 없는데, 이 특성을 사용하여 변수를 은닉할 수 있습니다.

#### 광렬

- 자기 자신의 스코프(scope)를 제외한 자신과 가장 가까운 변수 객체의 모든 스코프들의 연결을 스코프 체인이라 할 수 있다. 변수은닉화는 직접적으로 변경되면 안되는 변수에 대한 접근을 막는 것 이다.

#### 풍윤

- 스코프가 계층적으로 연결된 것을 스코프 체인이라 합니다. 여러 스코프에서 동일한 식별자를 선언한 경우, 무조건 스코프 체인상에서 가장 먼저 검색된 식별자에만 접근이 가능합니다. 스코프 체인을 통해 직접적으로 변경되면 안되는 변수에 대한 접근을 막을 수 있는데 이를 변수 은닉화라고 합니다.

<br>

### 4. 함수 스코프와 블록 스코프의 차이점을 설명해주세요.

<hr>

#### 대엽

- 변수를 var로 선언을 하면 함수 스코프를 따른다. 이 경우에는 함수 내부에서만 접근이 가능하다. 반면 let&const로 선언시 블록 스코프를 따르므로 해당 블록에서만 접근이 가능하고 블록 바깥에서는 접근이 불가능함

#### 민지

- 함수 레벨 스코프의 경우 함수 내부에 선언된 변수만 지역변수로 한정하며, 나머지는 모두 전역변수로 간주합니다.
  블록 레벨 스코프의 경우에는 함수 내부는 물론, 코드 블럭에서 선언된 변수도 지역변수로 취급합니다.
  추가로 블록 레벨 스코프는 함수 내부에서 선언된 변수도 외부에서 참조할 수 없습니다.

#### 다은

- 함수 내부에서 선언한 변수는 지역 변수이며 함수 외부에서 선언한 변수는 모두 전역 변수라는 특징을 가지는 함수 스코프와 달리 블록 스코프는 코드 블록 내에서 선언된 변수는 지역 변수라는 차이점이 있습니다.

#### 선아

- 함수 레벨 스코프는 함수의 코드 블록만을 지역 스코프로 인정하고, 블록 레벨 스코프는 모든 코드 블록이 지역 스코프를 만듭니다. var 키워드로 선언된 변수가 함수 레벨 스코프를 가지는데, 이 때문에 의도치 않게 값을 변경하는 문제가 발생해서 ES6에 블록 레벨 스코프인 let과 const 키워드가 도입되었습니다.

#### 광렬

- 함수 스코프는 새로운 함수가 생성되면 새로운 스코프를 발생하며, 코드 블록이 아닌 함수에 의해서만 지역 스코프가 생성되는 것 이다. 블록 스코프는 주어진 블록 안에서만 사용이 가능하며 밖에서는 접근 할 수 없는것을 말한다. 이는 let 과 const 의 등장으로 등장하였다.

#### 풍윤

- 함수 스코프란 함수에 의해서만 지역 스코프가 생성된다는 것을 의미합니다. 블록 스코프는 함수 몸체뿐만 아니라 모든 코드 블록을 지역 스코프로 생성되는 것을 의미합니다. 함수 스코프는 함수 밖에서 선언된 변수는 코드 블록 안에서 선언되었다 할지라도 함수 코드 블록만을 지역 스코프로 인정하기 때문에 전역 변수로 사용할 수 있지만, 블록 스코프는 블록 밖에서 선언된 변수가 코드 블록 안의 선언된 변수와 지역 스코프가 다르기 때문에 다른 변수로 인정하게 됩니다.
